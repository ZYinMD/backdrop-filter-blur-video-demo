<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Demo: backdrop-filter: blur Ã— video</title>
    <style>
      body {
        font-family: sans-serif;
        overflow-y: hidden;
        margin: 0;
      }
      .foreground {
        display: flex;
        backdrop-filter: blur(5px) brightness(80%);
      }
      .foreground .text {
        max-width: 500px;
        padding: 10px;
      }
      .foreground video {
        height: 100vh;
        margin-left: 10px;
      }
      .background {
        position: fixed;
        bottom: 0;
      }
    </style>
  </head>
  <body>
    <div class="background"></div>
    <div class="foreground">
      <div class="text">
        <p>
          This page uses the css property
          <code>backdrop-filter: blur(5px)</code> to blur the background.
        </p>
        <p>
          <strong>Issue</strong>: When using this css effect, the foreground
          video unexpectedly suffers from random frame-drops, looking like the
          video is jumping from one frame to another.
        </p>
        <p>
          <strong>Note</strong>: Opening devTools immediately fixes the issue.
          No idea why, but it helps with comparison. If you're not sure whether
          you've noticed any issue, open devTools and watch again, and see if
          playback becomes smoother when devTools are open.
        </p>
        <p>
          <strong>Note</strong>: I'm on a mid-end PC with integrated GPU. Not
          sure if you'll experience the same thing if you're on a very good
          computer.
        </p>
        <p>
          source code:
          <a href="https://github.com/ZYinMD/backdrop-filter-blur-video-demo"
            >https://github.com/ZYinMD/backdrop-filter-blur-video-demo</a
          >
        </p>
      </div>
      <video src="./video1.mp4" controls loop></video>
      <video src="./video2.mp4" controls loop></video>
    </div>
  </body>
  <script>
    document.querySelector(".background").textContent = `ðŸŒž `.repeat(300);
  </script>
</html>
